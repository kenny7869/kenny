(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{485:function(t,e,a){"use strict";a.r(e);var s=a(43),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"route-table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#route-table"}},[t._v("#")]),t._v(" Route Table")]),t._v(" "),a("h2",{attrs:{id:"route-指令說明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#route-指令說明"}},[t._v("#")]),t._v(" route 指令說明")]),t._v(" "),a("p",[a("strong",[t._v("route [-A family] add [-host|-net] target [netmask] [gw] [dev if]")])]),t._v(" "),a("ul",[a("li",[t._v("add：新增路由")]),t._v(" "),a("li",[t._v("del：刪除路由")]),t._v(" "),a("li",[t._v("host：表示目標是主機")]),t._v(" "),a("li",[t._v("net：表示目標是網路區段")]),t._v(" "),a("li",[t._v("target：目的地的網路或主機，可用host/network表示(ex: 192.168.10.10/32)")]),t._v(" "),a("li",[t._v("netmask：子網路遮罩")]),t._v(" "),a("li",[t._v("gw：透過gateway來路由封包。要特別注意必須要先能連到gateway")]),t._v(" "),a("li",[t._v("dev if：例如 dev eth0，若dev參數放在最後可以省略")]),t._v(" "),a("li",[t._v("metric：hop的數量，愈多hop表示通過的節點愈多")])]),t._v(" "),a("h2",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[t._v("#")]),t._v(" EXAMPLE")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("新增一個靜態路由，該路由透過eth0傳送"),a("br"),t._v(" "),a("strong",[t._v("EX：route add -net 192.168.10.0/24 gw 192.168.1.254 dev eth0")])])]),t._v(" "),a("li",[a("p",[t._v("新增預設閘道"),a("br"),t._v(" "),a("strong",[t._v("EX：route add default gw 192.168.1.254")])])]),t._v(" "),a("li",[a("p",[t._v("新增靜態主機路由"),a("br"),t._v(" "),a("strong",[t._v("EX：route add 192.168.20.10/32 gw 192.168.1.254 dev eth0")])])]),t._v(" "),a("li",[a("p",[t._v("查看路由表"),a("br"),t._v(" "),a("strong",[t._v("route -n")])])])]),t._v(" "),a("h2",{attrs:{id:"永久路由設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#永久路由設定"}},[t._v("#")]),t._v(" 永久路由設定")]),t._v(" "),a("ul",[a("li",[t._v("route指令不支援永久路由，重開機後之前的設定就洗掉了，要建立永久路由有以下幾種方式")])]),t._v(" "),a("ol",[a("li",[t._v("設定在/etc/sysconfig/network-scripts/route-xxx  註：xxx為網卡編號")])]),t._v(" "),a("ul",[a("li",[t._v("此檔案的語法如下")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ADDRESSn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NETMASKn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("GATEWAYn")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n")])])]),a("p",[a("strong",[t._v("註1：n建議由0開始慢慢加上去")]),a("br"),t._v(" "),a("strong",[t._v("註2：若沒有GATEWAY參數就不需要寫")]),a("br"),t._v(" "),a("strong",[t._v("註3：若有GATEWAY參數那GATEWAY要能連的到，否則GATEWAY設定不會生效")]),a("br"),t._v(" "),a("strong",[t._v("註4：若有好幾組靜態路由，就一直寫下去，記得n的號碼要加1")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("設定在/etc/rc.local (此方法已逐漸棄用)：直接把要新增的route指令貼在裡面即可")])]),t._v(" "),a("ul",[a("li",[t._v("DNS 修改 "),a("code",[t._v("/etc/resolv.conf")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/resolv.conf\n\nnameserver "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".8.8\nnameserver "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.8")]),t._v(".4.4\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);