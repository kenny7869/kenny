<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>AWS X-RAY | Kenny&#39;s Lab</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Lab memo">
    
    <link rel="preload" href="/kenny/assets/css/0.styles.d651372b.css" as="style"><link rel="preload" href="/kenny/assets/js/app.27176a5d.js" as="script"><link rel="preload" href="/kenny/assets/js/2.2248552a.js" as="script"><link rel="preload" href="/kenny/assets/js/22.c4505018.js" as="script"><link rel="prefetch" href="/kenny/assets/js/10.d37bf270.js"><link rel="prefetch" href="/kenny/assets/js/11.4677c5a0.js"><link rel="prefetch" href="/kenny/assets/js/12.f9a42a29.js"><link rel="prefetch" href="/kenny/assets/js/13.3dab6bf7.js"><link rel="prefetch" href="/kenny/assets/js/14.1a6149c0.js"><link rel="prefetch" href="/kenny/assets/js/15.c27f6aa2.js"><link rel="prefetch" href="/kenny/assets/js/16.39e920fb.js"><link rel="prefetch" href="/kenny/assets/js/17.0506072a.js"><link rel="prefetch" href="/kenny/assets/js/18.62114d43.js"><link rel="prefetch" href="/kenny/assets/js/19.d7afb284.js"><link rel="prefetch" href="/kenny/assets/js/20.09249c9c.js"><link rel="prefetch" href="/kenny/assets/js/21.7841be01.js"><link rel="prefetch" href="/kenny/assets/js/23.8de98749.js"><link rel="prefetch" href="/kenny/assets/js/24.0fa331a0.js"><link rel="prefetch" href="/kenny/assets/js/25.2c64586b.js"><link rel="prefetch" href="/kenny/assets/js/26.1703254d.js"><link rel="prefetch" href="/kenny/assets/js/27.f440c0ff.js"><link rel="prefetch" href="/kenny/assets/js/28.bd84c83e.js"><link rel="prefetch" href="/kenny/assets/js/29.33eaedae.js"><link rel="prefetch" href="/kenny/assets/js/3.8422769a.js"><link rel="prefetch" href="/kenny/assets/js/30.bfc646fb.js"><link rel="prefetch" href="/kenny/assets/js/31.8f326873.js"><link rel="prefetch" href="/kenny/assets/js/32.a1e80577.js"><link rel="prefetch" href="/kenny/assets/js/33.1b6dc722.js"><link rel="prefetch" href="/kenny/assets/js/34.634b36b0.js"><link rel="prefetch" href="/kenny/assets/js/35.1c907fc8.js"><link rel="prefetch" href="/kenny/assets/js/36.1c4d9d3e.js"><link rel="prefetch" href="/kenny/assets/js/37.02824c5c.js"><link rel="prefetch" href="/kenny/assets/js/38.bb369518.js"><link rel="prefetch" href="/kenny/assets/js/39.ca7096bc.js"><link rel="prefetch" href="/kenny/assets/js/4.29945c43.js"><link rel="prefetch" href="/kenny/assets/js/40.01229a4a.js"><link rel="prefetch" href="/kenny/assets/js/41.d2f1775e.js"><link rel="prefetch" href="/kenny/assets/js/5.47ffddd8.js"><link rel="prefetch" href="/kenny/assets/js/6.5fd8074b.js"><link rel="prefetch" href="/kenny/assets/js/7.de4b3078.js"><link rel="prefetch" href="/kenny/assets/js/8.2f76ae30.js"><link rel="prefetch" href="/kenny/assets/js/9.cd33585e.js">
    <link rel="stylesheet" href="/kenny/assets/css/0.styles.d651372b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kenny/" class="home-link router-link-active"><!----> <span class="site-name">Kenny's Lab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kenny/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux Basic" class="dropdown-title"><span class="title">Linux Basic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux Basic" class="mobile-dropdown-title"><span class="title">Linux Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/Linux/system directory.html" class="nav-link">
  系統目錄結構與管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/file basic.html" class="nav-link">
  文件基本屬性
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/account.html" class="nav-link">
  用戶和群組管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/disk.html" class="nav-link">
  磁碟管理
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/linuxserver/NetworkManager/" class="nav-link">
  Linux Server
</a></div><div class="nav-item"><a href="/kenny/aws server/" class="nav-link">
  AWS Server
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AWS Certification" class="dropdown-title"><span class="title">AWS Certification</span> <span class="arrow down"></span></button> <button type="button" aria-label="AWS Certification" class="mobile-dropdown-title"><span class="title">AWS Certification</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/aws certification/ACP-1/" class="nav-link">
  AWS Cloud Practitioner-1
</a></li><li class="dropdown-item"><!----> <a href="/kenny/aws certification/SAA/" class="nav-link">
  AWS Solutions Architect Associate
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Network Associate/VLAN.html" class="nav-link">
  Network Associate
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PostgreSQL" class="dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow down"></span></button> <button type="button" aria-label="PostgreSQL" class="mobile-dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Syntax/" class="nav-link">
  SQL語法
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Database/" class="nav-link">
  資料庫
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Table.html" class="nav-link">
  表格
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Transaction/" class="nav-link">
  交易管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Query.html" class="nav-link">
  資料查詢
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Authority.html" class="nav-link">
  資料庫角色、使用者權限管理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA" class="dropdown-title"><span class="title">JAVA</span> <span class="arrow down"></span></button> <button type="button" aria-label="JAVA" class="mobile-dropdown-title"><span class="title">JAVA</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/JAVA/helloworld.html" class="nav-link">
  HelloWorld
</a></li><li class="dropdown-item"><!----> <a href="/kenny/JAVA/variable/" class="nav-link">
  變數、資料型態、運算子
</a></li><li class="dropdown-item"><!----> <a href="/kenny/JAVA/string/" class="nav-link">
  字串與陣列
</a></li><li class="dropdown-item"><!----> <a href="/kenny/JAVA/controlflow.html" class="nav-link">
  控制流程語法
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kenny/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux Basic" class="dropdown-title"><span class="title">Linux Basic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux Basic" class="mobile-dropdown-title"><span class="title">Linux Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/Linux/system directory.html" class="nav-link">
  系統目錄結構與管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/file basic.html" class="nav-link">
  文件基本屬性
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/account.html" class="nav-link">
  用戶和群組管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/disk.html" class="nav-link">
  磁碟管理
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/linuxserver/NetworkManager/" class="nav-link">
  Linux Server
</a></div><div class="nav-item"><a href="/kenny/aws server/" class="nav-link">
  AWS Server
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AWS Certification" class="dropdown-title"><span class="title">AWS Certification</span> <span class="arrow down"></span></button> <button type="button" aria-label="AWS Certification" class="mobile-dropdown-title"><span class="title">AWS Certification</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/aws certification/ACP-1/" class="nav-link">
  AWS Cloud Practitioner-1
</a></li><li class="dropdown-item"><!----> <a href="/kenny/aws certification/SAA/" class="nav-link">
  AWS Solutions Architect Associate
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Network Associate/VLAN.html" class="nav-link">
  Network Associate
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PostgreSQL" class="dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow down"></span></button> <button type="button" aria-label="PostgreSQL" class="mobile-dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Syntax/" class="nav-link">
  SQL語法
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Database/" class="nav-link">
  資料庫
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Table.html" class="nav-link">
  表格
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Transaction/" class="nav-link">
  交易管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Query.html" class="nav-link">
  資料查詢
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Authority.html" class="nav-link">
  資料庫角色、使用者權限管理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA" class="dropdown-title"><span class="title">JAVA</span> <span class="arrow down"></span></button> <button type="button" aria-label="JAVA" class="mobile-dropdown-title"><span class="title">JAVA</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/JAVA/helloworld.html" class="nav-link">
  HelloWorld
</a></li><li class="dropdown-item"><!----> <a href="/kenny/JAVA/variable/" class="nav-link">
  變數、資料型態、運算子
</a></li><li class="dropdown-item"><!----> <a href="/kenny/JAVA/string/" class="nav-link">
  字串與陣列
</a></li><li class="dropdown-item"><!----> <a href="/kenny/JAVA/controlflow.html" class="nav-link">
  控制流程語法
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/kenny/aws%20server/" aria-current="page" class="sidebar-link">AWS 各項服務 For Server</a></li><li><a href="/kenny/aws server/awshttpd2tomcat.html" class="sidebar-link">AWS/HTTPD/TOMCAT</a></li><li><a href="/kenny/aws server/IAM.html" class="sidebar-link">Introduction to IAM</a></li><li><a href="/kenny/aws server/EC2.html" class="sidebar-link">Introduction to EC2</a></li><li><a href="/kenny/aws server/Spot Instance.html" class="sidebar-link">Spot Instance</a></li><li><a href="/kenny/aws server/VPC.html" class="sidebar-link">VPC Basic</a></li><li><a href="/kenny/aws server/XRay.html" class="active sidebar-link">AWS X-RAY</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kenny/aws server/XRay.html#什麼是-aws-x-ray" class="sidebar-link">什麼是 AWS X-Ray？</a></li><li class="sidebar-sub-header"><a href="/kenny/aws server/XRay.html#應用場景" class="sidebar-link">應用場景</a></li><li class="sidebar-sub-header"><a href="/kenny/aws server/XRay.html#x-ray-作用" class="sidebar-link">X-Ray 作用</a></li><li class="sidebar-sub-header"><a href="/kenny/aws server/XRay.html#核心名詞" class="sidebar-link">核心名詞</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="aws-x-ray"><a href="#aws-x-ray" class="header-anchor">#</a> AWS X-RAY</h1> <h2 id="什麼是-aws-x-ray"><a href="#什麼是-aws-x-ray" class="header-anchor">#</a> 什麼是 AWS X-Ray？</h2> <p>AWS X-Ray 是一項服務，可協助開發人員分析和偵錯生產、分散式應用程式，收集您應用程序所服務的請求的相關數據，並提供用於查看，篩选和獲取數據洞察力的工具，從而解決問題和發現優化的機會，對於任何被追蹤應用程式的請求，既可以查看請求和響應的詳細訊息，又可以查看應用程式對下游 AWS 資源，微服務，數據庫和 HTTP Web API 進行調用的詳細訊息<br>
X-Ray開發工具包提供：</p> <ul><li><p>攔截器：可添加到您的代碼中以追蹤傳入 HTTP 請求</p></li> <li><p>客戶端處理程序：可分析你的應用程序用來調用其他 AWS 服務的 AWS 開發工具包客戶端</p></li> <li><p>HTTP 客戶端：用於分析對其他內部和外部 HTTP Web 服務的調用</p></li></ul> <p>開發工具包還支持分析對 SQL 資料庫的調用、自動 AWS 開發工具包客戶端分析以及其他功能</p> <p><img src="/kenny/assets/img/XRAY-1.767d5005.png" alt="XRAY-1" title="XRAY-1"></p> <h2 id="應用場景"><a href="#應用場景" class="header-anchor">#</a> 應用場景</h2> <p>建立並執行<strong>分散式應用程式</strong>，必須倚賴以每個服務或每個資源為基礎的程序，才能在請求通過應用程式的各個組成元件時追蹤該應用程式請求。由於應用程式執行或使用的架構、服務和資源有各種日誌格式及儲存媒體，使得這個問題變得更為複雜。這樣一來，從最終使用者或服務發出請求到應用程式傳回回應的整個過程，就很難建立各個資料之間的關聯及建立這個過程的完整描述。<br>
X-Ray 提供一個<strong>以使用者為中心</strong>，而非以服務或資源為中心的模型，用以收集對應用程式提出請求的相關資訊。這個模型可讓您在請求通過各個服務和資源時，建立一個以使用者為中心的完整描述。X-Ray 透過代理聯繫和彙整資料，讓開發人員專心改進應用程式最終使用者的體驗。</p> <h2 id="x-ray-作用"><a href="#x-ray-作用" class="header-anchor">#</a> X-Ray 作用</h2> <ul><li>建立服務地圖：X-Ray 透過追蹤對應用程式發出的請求，建立一個應用程式使用的服務地圖。將可以提供一個應用程式內各種服務之間聯繫的視圖，也能讓開發人員建立一個相依關係樹狀結構、在 AWS 可用區域或區域之間工作時偵測延遲或錯誤，以及將注意力集中在未如預期般運作的服務等</li> <li>識別問題和錯誤：X-Ray 會分析對應用程式發出之每個請求的回應代碼，自動醒目提示應用程式程式碼中的錯誤或問題。這樣可輕鬆偵錯應用程式程式碼，且不需要重現錯誤或問題</li> <li>建立自己的分析和視覺化應用程式：X-Ray 提供一組查詢 API，可供您建立使用 X-Ray 記錄資料的分析和視覺化應用程式</li></ul> <h2 id="核心名詞"><a href="#核心名詞" class="header-anchor">#</a> 核心名詞</h2> <ul><li><p>追蹤(trace)：X-Ray 追蹤是一組共享同個追蹤 ID 的資料點。例如，用戶端對應用程式提出請求時，就會對它指派一個唯一的追蹤 ID。當請求進入到應用程式的服務時，服務會使用這個唯一的追蹤 ID，將與請求有關的資訊轉送回 X-Ray。應用程式中每個服務轉送到 X-Ray 的資訊就是一個片段，而追蹤就是片段的集合</p></li> <li><p>片段(segment)：X-Ray 片段會封裝分散式應用程式中單一元件 (例如：授權服務 authorization service) 的所有資料點。片段包含註解形式的系統定義和使用者定義的資料，且由一或多個子片段組成，這些子片段代表從服務發出的遠端呼叫。例如，應用程式對資料庫發出呼叫以回應請求時，它會為該請求建立一個片段，其中包含代表資料庫呼叫及其結果的子片段。子片段可包含查詢、使用的表格、時間戳記和錯誤狀態這類資料</p></li> <li><p>註解(annotation)：X-Ray 註解是與片段關聯的系統定義或使用者定義的資料。一個片段可包含多個註解。系統定義的註解包含由 AWS 服務新增到片段的資料，而使用者定義的註解則是由開發人員新增到片段的中繼資料。例如，會自動在應用程式建立的片段中導入 AWS 服務呼叫的區域資料，而您可以選擇對非 AWS 服務發出的呼叫自己新增區域資料</p></li> <li><p>錯誤(error)：X-Ray 錯誤是與造成錯誤回應之呼叫片段關聯的系統註解。錯誤中包含錯誤訊息、堆疊追蹤，以及將錯誤與來源檔關聯的任何其他資訊 例如：版本或遞交 ID (commit ID)</p></li> <li><p>抽樣(sampling)：為了提供高效且經濟實惠的使用體驗，X-Ray 不會收集傳送到應用程式的每個請求的資料。而是針對具有統計意義的請求數量收集資料。因此，X-Ray 不應做為稽核或合規工具，因為它無法保證資料的完整性</p></li> <li><p>X-Ray 代理器(X-Ray agent)：X-Ray 代理器從日誌檔收集資料，然後將它們傳送到 X-Ray 服務進行彙整、分析和儲存。代理器讓您輕鬆將資料傳送到 X-Ray 服務而不是直接使用 API，而且這個代理器可在 Amazon Linux AMI、Red Hat Enterprise Linux (RHEL) 及 Windows Server 2012 R2 或更新版本的作業系統中使用</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kenny/aws server/VPC.html" class="prev">
        VPC Basic
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/kenny/assets/js/app.27176a5d.js" defer></script><script src="/kenny/assets/js/2.2248552a.js" defer></script><script src="/kenny/assets/js/22.c4505018.js" defer></script>
  </body>
</html>
