<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL 語法 | Kenny&#39;s Lab</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Lab memo">
    
    <link rel="preload" href="/kenny/assets/css/0.styles.d651372b.css" as="style"><link rel="preload" href="/kenny/assets/js/app.a9c18b87.js" as="script"><link rel="preload" href="/kenny/assets/js/2.c4563d09.js" as="script"><link rel="preload" href="/kenny/assets/js/36.7eaa98cd.js" as="script"><link rel="prefetch" href="/kenny/assets/js/10.d5d442d0.js"><link rel="prefetch" href="/kenny/assets/js/11.206ec2fa.js"><link rel="prefetch" href="/kenny/assets/js/12.c6934793.js"><link rel="prefetch" href="/kenny/assets/js/13.cd9fda33.js"><link rel="prefetch" href="/kenny/assets/js/14.ef035a75.js"><link rel="prefetch" href="/kenny/assets/js/15.ac6c3936.js"><link rel="prefetch" href="/kenny/assets/js/16.9616f8d6.js"><link rel="prefetch" href="/kenny/assets/js/17.22db56ac.js"><link rel="prefetch" href="/kenny/assets/js/18.22bb0722.js"><link rel="prefetch" href="/kenny/assets/js/19.5530df08.js"><link rel="prefetch" href="/kenny/assets/js/20.b93e01ac.js"><link rel="prefetch" href="/kenny/assets/js/21.c12aff08.js"><link rel="prefetch" href="/kenny/assets/js/22.038c43e6.js"><link rel="prefetch" href="/kenny/assets/js/23.de6cf3c6.js"><link rel="prefetch" href="/kenny/assets/js/24.c8edd711.js"><link rel="prefetch" href="/kenny/assets/js/25.1be8b229.js"><link rel="prefetch" href="/kenny/assets/js/26.72290609.js"><link rel="prefetch" href="/kenny/assets/js/27.3d721dc8.js"><link rel="prefetch" href="/kenny/assets/js/28.b08a815e.js"><link rel="prefetch" href="/kenny/assets/js/29.c7ff2055.js"><link rel="prefetch" href="/kenny/assets/js/3.cf531974.js"><link rel="prefetch" href="/kenny/assets/js/30.c7fe2dba.js"><link rel="prefetch" href="/kenny/assets/js/31.dde6961a.js"><link rel="prefetch" href="/kenny/assets/js/32.7ab921fa.js"><link rel="prefetch" href="/kenny/assets/js/33.caf06f79.js"><link rel="prefetch" href="/kenny/assets/js/34.4f9013d3.js"><link rel="prefetch" href="/kenny/assets/js/35.1367a949.js"><link rel="prefetch" href="/kenny/assets/js/4.5cf3f63f.js"><link rel="prefetch" href="/kenny/assets/js/5.b3a037e6.js"><link rel="prefetch" href="/kenny/assets/js/6.7fcc5c7d.js"><link rel="prefetch" href="/kenny/assets/js/7.f4be5b2a.js"><link rel="prefetch" href="/kenny/assets/js/8.b2a2cd45.js"><link rel="prefetch" href="/kenny/assets/js/9.5bcf8bf4.js">
    <link rel="stylesheet" href="/kenny/assets/css/0.styles.d651372b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kenny/" class="home-link router-link-active"><!----> <span class="site-name">Kenny's Lab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kenny/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux Basic" class="dropdown-title"><span class="title">Linux Basic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux Basic" class="mobile-dropdown-title"><span class="title">Linux Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/Linux/system directory.html" class="nav-link">
  系統目錄結構與管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/file basic.html" class="nav-link">
  文件基本屬性
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/account.html" class="nav-link">
  用戶和群組管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/disk.html" class="nav-link">
  磁碟管理
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/linuxserver/NetworkManager/" class="nav-link">
  Linux Server
</a></div><div class="nav-item"><a href="/kenny/aws server/" class="nav-link">
  AWS Server
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AWS Certification" class="dropdown-title"><span class="title">AWS Certification</span> <span class="arrow down"></span></button> <button type="button" aria-label="AWS Certification" class="mobile-dropdown-title"><span class="title">AWS Certification</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/aws certification/ACP-1/" class="nav-link">
  AWS Cloud Practitioner-1
</a></li><li class="dropdown-item"><!----> <a href="/kenny/aws certification/SAA/" class="nav-link">
  AWS Solutions Architect Associate
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Network Associate/VLAN.html" class="nav-link">
  Network Associate
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PostgreSQL" class="dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow down"></span></button> <button type="button" aria-label="PostgreSQL" class="mobile-dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/pgsql/phrase/" class="nav-link">
  phrase
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/syntax/" class="nav-link">
  PostgreSQL 語法
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/nytimes.html" class="nav-link">
  NY Times
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/scmp/" class="nav-link">
  South Morning China Post
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/StraitsTimes.html" class="nav-link">
  Straits Times
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kenny/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux Basic" class="dropdown-title"><span class="title">Linux Basic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux Basic" class="mobile-dropdown-title"><span class="title">Linux Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/Linux/system directory.html" class="nav-link">
  系統目錄結構與管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/file basic.html" class="nav-link">
  文件基本屬性
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/account.html" class="nav-link">
  用戶和群組管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/disk.html" class="nav-link">
  磁碟管理
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/linuxserver/NetworkManager/" class="nav-link">
  Linux Server
</a></div><div class="nav-item"><a href="/kenny/aws server/" class="nav-link">
  AWS Server
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AWS Certification" class="dropdown-title"><span class="title">AWS Certification</span> <span class="arrow down"></span></button> <button type="button" aria-label="AWS Certification" class="mobile-dropdown-title"><span class="title">AWS Certification</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/aws certification/ACP-1/" class="nav-link">
  AWS Cloud Practitioner-1
</a></li><li class="dropdown-item"><!----> <a href="/kenny/aws certification/SAA/" class="nav-link">
  AWS Solutions Architect Associate
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Network Associate/VLAN.html" class="nav-link">
  Network Associate
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PostgreSQL" class="dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow down"></span></button> <button type="button" aria-label="PostgreSQL" class="mobile-dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/pgsql/phrase/" class="nav-link">
  phrase
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/syntax/" class="nav-link">
  PostgreSQL 語法
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/nytimes.html" class="nav-link">
  NY Times
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/scmp/" class="nav-link">
  South Morning China Post
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/StraitsTimes.html" class="nav-link">
  Straits Times
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/kenny/pgsql/nytimes.html" class="sidebar-link">The New York Times</a></li><li><a href="/kenny/pgsql/syntax.html" aria-current="page" class="active sidebar-link">PostgreSQL 語法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kenny/pgsql/syntax.html#語法結構" class="sidebar-link">語法結構</a></li><li class="sidebar-sub-header"><a href="/kenny/pgsql/syntax.html#特殊字元" class="sidebar-link">特殊字元</a></li></ul></li><li><a href="/kenny/pgsql/scmp.html" class="sidebar-link">South China Morning Post</a></li><li><a href="/kenny/pgsql/StraitsTimes.html" class="sidebar-link">The Straits Times</a></li><li><a href="/kenny/pgsql/phrase.html" class="sidebar-link">Phrase</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="postgresql-語法"><a href="#postgresql-語法" class="header-anchor">#</a> PostgreSQL 語法</h1> <p>預設情況下 PostgreSQL 安裝完成後，自帶了一個命令行工具 SQL Shell (psql)<br>
Linux 系統可以直接切換到 postgres 使用這來開啟命令行工具：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> -i -u postgres
</code></pre></div><p>進入命令行工具，我們可以使用\help來查看各個命令的語法：</p> <div class="language-SQL extra-class"><pre class="language-sql"><code>postgres<span class="token operator">-</span><span class="token comment"># \help &lt;command_name&gt;</span>
</code></pre></div><h2 id="語法結構"><a href="#語法結構" class="header-anchor">#</a> 語法結構</h2> <p>SQL 語法包含一連串的命令，命令是由一系列的<strong>指示記號所組合</strong>而成，以<strong>分號結尾</strong><br>
一個 SQL 語句通常包含了關鍵字、識別項（字段）、文字、特殊符號<br>
實例：</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> MY_TABLE<span class="token punctuation">;</span>
<span class="token keyword">UPDATE</span> MY_TABLE <span class="token keyword">SET</span> A <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> MY_TABLE <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'hi there'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>關鍵字 （Keyword）：意即在 SQL 語言中，其具有固定的意義</li> <li>識別項（Identifier）：用於識別表格的名稱，欄位名稱，或是其他的資料庫物件</li></ul> <p>關鍵字和無引號識別項都是不分大小寫：</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> MY_TABLE <span class="token keyword">SET</span> A <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><p>等同於</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">uPDaTE</span> my_TabLE <span class="token keyword">SeT</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><p>常見寫法，就是把關鍵字用大寫表示，而識別項名稱使用小寫</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> my_table <span class="token keyword">SET</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><p>引號識別項（限制的識別項），可以包含任何字元，除了字元碼為 0 的字元以外</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> <span class="token string">&quot;my_table&quot;</span> <span class="token keyword">SET</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre></div><p>以上例子 &quot;my_table&quot; 就會被識別為名稱為「my_table」的表格或欄位，而無引號的 my_table 就會被視為是關鍵字</p> <ul><li>字串常數：指的是用單引號括住的任意字元串列</li></ul> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token string">'foobar'</span><span class="token punctuation">;</span>
</code></pre></div><p>等同於</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token string">'foo'</span>
<span class="token string">'bar'</span><span class="token punctuation">;</span>
</code></pre></div><p>兩個字串常數如果只用空白及至少一個換行符號所分隔的話，那個它們會被連在一起，和寫成一個字串是一樣的<br>
但如果是以下這樣語法上就不正確了</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token string">'foo'</span>      <span class="token string">'bar'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="特殊字元"><a href="#特殊字元" class="header-anchor">#</a> 特殊字元</h2> <ul><li>錢字號 <code>$</code> 其後接著數字的話，用來表示函數宣告或預備指令的參數編號。其他的用法還有識別項的一部份，或是錢字引號常數</li> <li>小括號 <code>( )</code> 一般用來強調表示式並且優先運算。還有某些情況用於表示某些 SQL 指令的部份的必要性</li> <li>中括號 <code>[ ]</code> 用於組成陣列的各個元素</li> <li>逗號 <code>,</code> 用於一般語法上的結構需要，來分隔列表中的單元</li> <li>分號 <code>;</code> 表示 SQL 指令的結束。它不能出現在指令中的其他位置，除非是在字串常數當中，或是引號識別項</li> <li>冒號 <code>:</code> 用在取得陣列的小項</li> <li>米字號 <code>*</code> 用來表示表格中所有的欄位，或複合性的內容。它也可以用於函數宣告時，不限制固定數量的參數</li> <li>頓號 <code>.</code> 用在數值常數之中，也用於區分結構、表格、及欄位名稱</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kenny/pgsql/nytimes.html" class="prev">
        The New York Times
      </a></span> <span class="next"><a href="/kenny/pgsql/scmp.html">
        South China Morning Post
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/kenny/assets/js/app.a9c18b87.js" defer></script><script src="/kenny/assets/js/2.c4563d09.js" defer></script><script src="/kenny/assets/js/36.7eaa98cd.js" defer></script>
  </body>
</html>
