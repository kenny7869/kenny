<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Network Manager | Kenny&#39;s Lab</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Lab memo">
    
    <link rel="preload" href="/kenny/assets/css/0.styles.d651372b.css" as="style"><link rel="preload" href="/kenny/assets/js/app.462580f2.js" as="script"><link rel="preload" href="/kenny/assets/js/2.9831e14e.js" as="script"><link rel="preload" href="/kenny/assets/js/25.dacd9609.js" as="script"><link rel="prefetch" href="/kenny/assets/js/10.d08dae35.js"><link rel="prefetch" href="/kenny/assets/js/11.200127d0.js"><link rel="prefetch" href="/kenny/assets/js/12.8d04ed7d.js"><link rel="prefetch" href="/kenny/assets/js/13.a2691779.js"><link rel="prefetch" href="/kenny/assets/js/14.559dcfc0.js"><link rel="prefetch" href="/kenny/assets/js/15.d9bc4074.js"><link rel="prefetch" href="/kenny/assets/js/16.379329b2.js"><link rel="prefetch" href="/kenny/assets/js/17.534fffd5.js"><link rel="prefetch" href="/kenny/assets/js/18.d5b60df7.js"><link rel="prefetch" href="/kenny/assets/js/19.7f9ecbb4.js"><link rel="prefetch" href="/kenny/assets/js/20.30bbc777.js"><link rel="prefetch" href="/kenny/assets/js/21.eec5c946.js"><link rel="prefetch" href="/kenny/assets/js/22.d4d79bda.js"><link rel="prefetch" href="/kenny/assets/js/23.52e55223.js"><link rel="prefetch" href="/kenny/assets/js/24.89491916.js"><link rel="prefetch" href="/kenny/assets/js/26.e9258ff7.js"><link rel="prefetch" href="/kenny/assets/js/27.51089b61.js"><link rel="prefetch" href="/kenny/assets/js/28.a6de87d0.js"><link rel="prefetch" href="/kenny/assets/js/29.228a6b65.js"><link rel="prefetch" href="/kenny/assets/js/3.fd803356.js"><link rel="prefetch" href="/kenny/assets/js/30.068089ed.js"><link rel="prefetch" href="/kenny/assets/js/31.b310c84c.js"><link rel="prefetch" href="/kenny/assets/js/32.e64b69d0.js"><link rel="prefetch" href="/kenny/assets/js/33.83670cc6.js"><link rel="prefetch" href="/kenny/assets/js/34.e56132bf.js"><link rel="prefetch" href="/kenny/assets/js/35.627f6b5b.js"><link rel="prefetch" href="/kenny/assets/js/36.ea77ab71.js"><link rel="prefetch" href="/kenny/assets/js/4.34c779a8.js"><link rel="prefetch" href="/kenny/assets/js/5.f5c503fc.js"><link rel="prefetch" href="/kenny/assets/js/6.2bd9b100.js"><link rel="prefetch" href="/kenny/assets/js/7.a68be8fc.js"><link rel="prefetch" href="/kenny/assets/js/8.43e47de0.js"><link rel="prefetch" href="/kenny/assets/js/9.c6076dfa.js">
    <link rel="stylesheet" href="/kenny/assets/css/0.styles.d651372b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kenny/" class="home-link router-link-active"><!----> <span class="site-name">Kenny's Lab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/kenny/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux Basic" class="dropdown-title"><span class="title">Linux Basic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux Basic" class="mobile-dropdown-title"><span class="title">Linux Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/Linux/system directory.html" class="nav-link">
  系統目錄結構與管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/file basic.html" class="nav-link">
  文件基本屬性
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/account.html" class="nav-link">
  用戶和群組管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/disk.html" class="nav-link">
  磁碟管理
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/linuxserver/NetworkManager/" class="nav-link">
  Linux Server
</a></div><div class="nav-item"><a href="/kenny/aws server/" class="nav-link">
  AWS Server
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AWS Certification" class="dropdown-title"><span class="title">AWS Certification</span> <span class="arrow down"></span></button> <button type="button" aria-label="AWS Certification" class="mobile-dropdown-title"><span class="title">AWS Certification</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/aws certification/ACP-1/" class="nav-link">
  AWS Cloud Practitioner-1
</a></li><li class="dropdown-item"><!----> <a href="/kenny/aws certification/SAA/" class="nav-link">
  AWS Solutions Architect Associate
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Network Associate/VLAN.html" class="nav-link">
  Network Associate
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PostgreSQL" class="dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow down"></span></button> <button type="button" aria-label="PostgreSQL" class="mobile-dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/pgsql/syntax/" class="nav-link">
  SQL語法
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Database/" class="nav-link">
  資料庫
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Table.html" class="nav-link">
  表格
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/scmp/" class="nav-link">
  South Morning China Post
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/StraitsTimes.html" class="nav-link">
  Straits Times
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/kenny/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux Basic" class="dropdown-title"><span class="title">Linux Basic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Linux Basic" class="mobile-dropdown-title"><span class="title">Linux Basic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/Linux/system directory.html" class="nav-link">
  系統目錄結構與管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/file basic.html" class="nav-link">
  文件基本屬性
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/account.html" class="nav-link">
  用戶和群組管理
</a></li><li class="dropdown-item"><!----> <a href="/kenny/Linux/disk.html" class="nav-link">
  磁碟管理
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/linuxserver/NetworkManager/" class="nav-link">
  Linux Server
</a></div><div class="nav-item"><a href="/kenny/aws server/" class="nav-link">
  AWS Server
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="AWS Certification" class="dropdown-title"><span class="title">AWS Certification</span> <span class="arrow down"></span></button> <button type="button" aria-label="AWS Certification" class="mobile-dropdown-title"><span class="title">AWS Certification</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/aws certification/ACP-1/" class="nav-link">
  AWS Cloud Practitioner-1
</a></li><li class="dropdown-item"><!----> <a href="/kenny/aws certification/SAA/" class="nav-link">
  AWS Solutions Architect Associate
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Network Associate/VLAN.html" class="nav-link">
  Network Associate
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="PostgreSQL" class="dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow down"></span></button> <button type="button" aria-label="PostgreSQL" class="mobile-dropdown-title"><span class="title">PostgreSQL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kenny/pgsql/syntax/" class="nav-link">
  SQL語法
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Database/" class="nav-link">
  資料庫
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/Table.html" class="nav-link">
  表格
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/scmp/" class="nav-link">
  South Morning China Post
</a></li><li class="dropdown-item"><!----> <a href="/kenny/pgsql/StraitsTimes.html" class="nav-link">
  Straits Times
</a></li></ul></div></div><div class="nav-item"><a href="/kenny/Resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/kenny/linuxserver/NetworkManager.html" aria-current="page" class="active sidebar-link">Network Manager</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/kenny/linuxserver/NetworkManager.html#安裝及配置" class="sidebar-link">安裝及配置</a></li><li class="sidebar-sub-header"><a href="/kenny/linuxserver/NetworkManager.html#使用-networkmanager-工具並使用-ifcfg-文件配置" class="sidebar-link">使用 NetworkManager 工具並使用 ifcfg 文件配置</a></li><li class="sidebar-sub-header"><a href="/kenny/linuxserver/NetworkManager.html#linux-網路相關設定檔案" class="sidebar-link">Linux 網路相關設定檔案</a></li></ul></li><li><a href="/kenny/linuxserver/sys resource.html" class="sidebar-link">系統資源查看</a></li><li><a href="/kenny/linuxserver/Route Table.html" class="sidebar-link">Route Table</a></li><li><a href="/kenny/linuxserver/firewalld.html" class="sidebar-link">Firewalld</a></li><li><a href="/kenny/linuxserver/sftp.html" class="sidebar-link">SFTP without SSH</a></li><li><a href="/kenny/linuxserver/httpd2tomcat.html" class="sidebar-link">HTTPD/TOMCAT</a></li><li><a href="/kenny/linuxserver/SSL SNI.html" class="sidebar-link">SSL SNI</a></li><li><a href="/kenny/linuxserver/rsyslog.html" class="sidebar-link">rsyslog 介紹與使用</a></li><li><a href="/kenny/linuxserver/pgsql.html" class="sidebar-link">PostgreSQL 安裝與配置</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="network-manager"><a href="#network-manager" class="header-anchor">#</a> Network Manager</h1> <h2 id="安裝及配置"><a href="#安裝及配置" class="header-anchor">#</a> 安裝及配置</h2> <ul><li>NetworkManager 應該預先安裝在CentOS 8 基本安裝上，否則，您可以使用 DNF 軟件包管理器進行安裝</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>dnf <span class="token function">install</span> NetworkManager
</code></pre></div><ul><li><p>NetworkManager 的整體配置文件位於 <code>/etc/NetworkManager/NetworkManager.conf</code>，其他配置文件位於 <code>/etc/NetworkManager/</code></p></li> <li><p>檢查 NetworkManager  服務是否正在運行</p></li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>systemctl is-active NetworkManager
</code></pre></div><ul><li>檢查 NetworkManager  服務是否有設定開機自動啟動</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>systemctl is-enabled NetworkManager
</code></pre></div><ul><li>顯示 NetworkManager 服務狀態</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>systemctl status NetworkManager
</code></pre></div><h2 id="使用-networkmanager-工具並使用-ifcfg-文件配置"><a href="#使用-networkmanager-工具並使用-ifcfg-文件配置" class="header-anchor">#</a> 使用 NetworkManager 工具並使用 ifcfg 文件配置</h2> <ul><li>nmcli：用於配置網絡的命令行工具。</li> <li>nmtui：一個簡單的基於 curses 的文本用戶界面，還用於配置和管理 newtwork 界面連接。</li> <li>列出 NetworkManager 檢測到的設備</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>nmcli device
<span class="token comment"># or</span>
nmcli device status
</code></pre></div><ul><li>要查看所有活動連接，請運行以下命令(注意，如果沒有-a，它將列出可用的連接配置文件)。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>nmcli connection show -a
</code></pre></div><ul><li>在 CentOS/RHEL 8 上設置靜態 IP 地址</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">vim</span> /etc/sysconfig/network-scripts/ifcfg-eth0
<span class="token comment">#主要是看要設定的網卡是哪一張，ens編號會有不同</span>
</code></pre></div><div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">&quot;eth0&quot;</span>               <span class="token operator">&lt;</span><span class="token operator">==</span>網路卡代號，必須要 ifcfg-eth0 相對應
<span class="token assign-left variable">HWADDR</span><span class="token operator">=</span><span class="token string">&quot;08:00:27:71:85:BD&quot;</span>  <span class="token operator">&lt;</span><span class="token operator">==</span>就是網路卡位址，若只有一張網卡，可省略此項目
<span class="token assign-left variable">NM_CONTROLLED</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>          <span class="token operator">&lt;</span><span class="token operator">==</span>不要受到其他軟體的網路管理！
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>                <span class="token operator">&lt;</span><span class="token operator">==</span>是否預設啟動此介面的意思
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>none              <span class="token operator">&lt;</span><span class="token operator">==</span>取得IP的方式，其實關鍵字只有dhcp，手動可輸入none
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.1.100        <span class="token operator">&lt;</span><span class="token operator">==</span>就是 IP 啊
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.255.0       <span class="token operator">&lt;</span><span class="token operator">==</span>就是子網路遮罩
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.1.254       <span class="token operator">&lt;</span><span class="token operator">==</span>就是預設匝道
<span class="token comment"># 重點是上面這幾個設定項目，底下的則可以省略的囉！</span>
<span class="token assign-left variable">NETWORK</span><span class="token operator">=</span><span class="token number">192.168</span>.1.0         <span class="token operator">&lt;</span><span class="token operator">==</span>就是該網段的第一個 IP，可省略
<span class="token assign-left variable">BROADCAST</span><span class="token operator">=</span><span class="token number">192.168</span>.1.255     <span class="token operator">&lt;</span><span class="token operator">==</span>就是廣播位址囉，可省略
<span class="token assign-left variable">MTU</span><span class="token operator">=</span><span class="token number">1500</span>                    <span class="token operator">&lt;</span><span class="token operator">==</span>就是最大傳輸單元的設定值，若不更改則可省略
</code></pre></div><ul><li>DEVICE：這個設定值後面接的裝置代號需要與檔名 (ifcfg-eth0) 那個裝置代號相同才行！否則可能會造成一些裝置名稱找不到的困擾</li> <li>HWADDR：這個東西就是網路卡的 MAC 位址</li> <li>BOOTPROTO：啟動該網路介面時，使用何種協定？ 如果是手動給予 IP 的環境，請輸入 static 或 none ，如果是自動取得 IP 的時候，請輸入 dhcp</li> <li>GATEWAY：代表的是『整個主機系統的 default gateway』，有 ifcfg-eth0, ifcfg-eth1.... 等多個檔案，<strong>只要在其中一個檔案設定 GATEWAY 即可</strong></li> <li>保存更改後，需要重新加載所有連接配置文件或重新啟動 NetworkManager 以應用新更改</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>nmcli connection reload
<span class="token comment"># or</span>
systemctl restart NetworkManager
</code></pre></div><ul><li>DNS 亦可進入 <code>/etc/resolv.conf</code> 進行修改</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">vim</span> /etc/resolv.conf

nameserver <span class="token number">10.160</span>.1.9
nameserver <span class="token number">10.160</span>.128.9
</code></pre></div><h2 id="linux-網路相關設定檔案"><a href="#linux-網路相關設定檔案" class="header-anchor">#</a> Linux 網路相關設定檔案</h2> <table><thead><tr><th>所需網路參數</th> <th>主要設定檔檔名</th> <th>重要參數</th></tr></thead> <tbody><tr><td>IP、Netmask、DHCP 與否Gateway 等</td> <td>/etc/sysconfig/network-scripts/ifcfg-eth0</td> <td>DEVICE=網卡的代號<br>BOOTPROTO=是否使用 dhcp<br>HWADDR=是否加入網卡卡號(MAC)<br>IPADDR=就是IP位址<br>NETMASK=子網路遮罩啦<br>ONBOOT=要不要預設啟動此介面<br>GATEWAY=就是通訊閘啦<br>NM_CONTROLLED=額外的網管軟體，鳥哥建議取消這個項目！</td></tr> <tr><td>主機名稱</td> <td>/etc/sysconfig/network</td> <td>NETWORKING=要不要有網路<br>NETWORKING_IPV6=是否支援IPv6<br>HOSTNAME=你的主機名</td></tr> <tr><td>DNS IP</td> <td>/etc/resolv.conf</td> <td>nameserver DNS的IP</td></tr> <tr><td>私有 IP 對應的主機名稱</td> <td>/etc/hosts</td> <td>私有IP 主機名稱 別名</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/kenny/linuxserver/sys resource.html">
        系統資源查看
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/kenny/assets/js/app.462580f2.js" defer></script><script src="/kenny/assets/js/2.9831e14e.js" defer></script><script src="/kenny/assets/js/25.dacd9609.js" defer></script>
  </body>
</html>
